<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_31) on Mon Nov 04 05:51:32 GMT-08:00 2013 -->
<TITLE>
DB
</TITLE>

<META NAME="date" CONTENT="2013-11-04">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="DB";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/DB.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../edu/usc/bg/base/ClientThread.html" title="class in edu.usc.bg.base"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../edu/usc/bg/base/DBException.html" title="class in edu.usc.bg.base"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?edu/usc/bg/base/DB.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="DB.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
edu.usc.bg.base</FONT>
<BR>
Class DB</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../../resources/inherit.gif" ALT="extended by "><B>edu.usc.bg.base.DB</B>
</PRE>
<DL>
<DT><B>Direct Known Subclasses:</B> <DD><A HREF="../../../../MySQL/AggrAsAttr1R1TMySQLClient.html" title="class in MySQL">AggrAsAttr1R1TMySQLClient</A>, <A HREF="../../../../MySQL/AggrAsAttr1R2TMySQLClient.html" title="class in MySQL">AggrAsAttr1R2TMySQLClient</A>, <A HREF="../../../../relational/AggrAsAttr1Rec2TableJdbcDBClient.html" title="class in relational">AggrAsAttr1Rec2TableJdbcDBClient</A>, <A HREF="../../../../MySQL/AggrAsAttr2R1TMySQLClient.html" title="class in MySQL">AggrAsAttr2R1TMySQLClient</A>, <A HREF="../../../../MySQL/AggrAsAttr2R2TMySQLClient.html" title="class in MySQL">AggrAsAttr2R2TMySQLClient</A>, <A HREF="../../../../simpleRelationalStoredProc/AggrAsAttr2Rec1TableJdbcDBClient.html" title="class in simpleRelationalStoredProc">AggrAsAttr2Rec1TableJdbcDBClient</A>, <A HREF="../../../../simpleRelationalStoredProc/AggrAsAttr2Rec2TableJdbcDBClient.html" title="class in simpleRelationalStoredProc">AggrAsAttr2Rec2TableJdbcDBClient</A>, <A HREF="../../../../relational/AggregateJdbcDBClient.html" title="class in relational">AggregateJdbcDBClient</A>, <A HREF="../../../../applicationCache/ApplicationCacheClient.html" title="class in applicationCache">ApplicationCacheClient</A>, <A HREF="../../../../MySQL/Basic1R1TMySQLClient.html" title="class in MySQL">Basic1R1TMySQLClient</A>, <A HREF="../../../../MySQL/Basic1R2TMySQLClient.html" title="class in MySQL">Basic1R2TMySQLClient</A>, <A HREF="../../../../MySQL/Basic2R1TMySQLClient.html" title="class in MySQL">Basic2R1TMySQLClient</A>, <A HREF="../../../../MySQL/Basic2R2TMySQLClient.html" title="class in MySQL">Basic2R2TMySQLClient</A>, <A HREF="../../../../finalRelational/Boosted2R1TClient.html" title="class in finalRelational">Boosted2R1TClient</A>, <A HREF="../../../../finalRelational/Boosted2Table1RecordOracleClient.html" title="class in finalRelational">Boosted2Table1RecordOracleClient</A>, <A HREF="../../../../memcached/ClientForLoadDataOnly.html" title="class in memcached">ClientForLoadDataOnly</A>, <A HREF="../../../../memcached/ClientForRefreshTechnique.html" title="class in memcached">ClientForRefreshTechnique</A>, <A HREF="../../../../memcached/ClientForRefreshTechniqueOptimization.html" title="class in memcached">ClientForRefreshTechniqueOptimization</A>, <A HREF="../../../../memcached/ClientForRefreshTechniqueWriteLeaseNoBackoff.html" title="class in memcached">ClientForRefreshTechniqueWriteLeaseNoBackoff</A>, <A HREF="../../../../memcached/ClientForSXQLeases.html" title="class in memcached">ClientForSXQLeases</A>, <A HREF="../../../../memcached/ClientForSXQLeasesTrigger.html" title="class in memcached">ClientForSXQLeasesTrigger</A>, <A HREF="../../../../voltdbbg/CopyOfvoltdbclient.html" title="class in voltdbbg">CopyOfvoltdbclient</A>, <A HREF="../../../../edu/usc/bg/base/DBWrapper.html" title="class in edu.usc.bg.base">DBWrapper</A>, <A HREF="../../../../MySQL/Ehcache1T1RMySQLClient.html" title="class in MySQL">Ehcache1T1RMySQLClient</A>, <A HREF="../../../../Ehcache/EhcacheBoostedClient.html" title="class in Ehcache">EhcacheBoostedClient</A>, <A HREF="../../../../Ehcache/EhcacheClient.html" title="class in Ehcache">EhcacheClient</A>, <A HREF="../../../../Ehcache/EhcacheFinalOracleClient.html" title="class in Ehcache">EhcacheFinalOracleClient</A>, <A HREF="../../../../finalRelational/EnhancedFinalOracleClient.html" title="class in finalRelational">EnhancedFinalOracleClient</A>, <A HREF="../../../../finalRelational/FinalOracleClient.html" title="class in finalRelational">FinalOracleClient</A>, <A HREF="../../../../relational/JdbcDBClient.html" title="class in relational">JdbcDBClient</A>, <A HREF="../../../../relational/JdbcProfileFSThumbBlobDBClient.html" title="class in relational">JdbcProfileFSThumbBlobDBClient</A>, <A HREF="../../../../KosarSolo/KosarSoloClient.html" title="class in KosarSolo">KosarSoloClient</A>, <A HREF="../../../../relational/MaterializedViewJdbcDBClient.html" title="class in relational">MaterializedViewJdbcDBClient</A>, <A HREF="../../../../MySQL/Memcached1T1RMySQLClient.html" title="class in MySQL">Memcached1T1RMySQLClient</A>, <A HREF="../../../../mongoDB/MongoDbClient.html" title="class in mongoDB">MongoDbClient</A>, <A HREF="../../../../mongoDB/MongoDbClientAggregatesAsAttrs.html" title="class in mongoDB">MongoDbClientAggregatesAsAttrs</A>, <A HREF="../../../../mongoDB/MongoDbClientAllImagesAsByteArrays.html" title="class in mongoDB">MongoDbClientAllImagesAsByteArrays</A>, <A HREF="../../../../mongoDB/MongoDbClientEnhanced.html" title="class in mongoDB">MongoDbClientEnhanced</A>, <A HREF="../../../../mongoDB/MongoDbClientFS.html" title="class in mongoDB">MongoDbClientFS</A>, <A HREF="../../../../mongoDB/MongoDbClientResArray.html" title="class in mongoDB">MongoDbClientResArray</A>, <A HREF="../../../../mongoDB/MongoDbClientThumbsWMembers.html" title="class in mongoDB">MongoDbClientThumbsWMembers</A>, <A HREF="../../../../mongoDB/MongoDbWhalinMemcachedClientThumbsWMembers.html" title="class in mongoDB">MongoDbWhalinMemcachedClientThumbsWMembers</A>, <A HREF="../../../../relational/MultiFriendshipTableJdbcDBClient.html" title="class in relational">MultiFriendshipTableJdbcDBClient</A>, <A HREF="../../../../MySQL/MVMySQLClient.html" title="class in MySQL">MVMySQLClient</A>, <A HREF="../../../../relational/NotInlineJdbcDBClient.html" title="class in relational">NotInlineJdbcDBClient</A>, <A HREF="../../../../postgredb/PostgreDBClient.html" title="class in postgredb">PostgreDBClient</A>, <A HREF="../../../../postgredb/PostgreDBClient_Count.html" title="class in postgredb">PostgreDBClient_Count</A>, <A HREF="../../../../memcached/RefreshTechniqueClientWithLeaseBeforeTransaction.html" title="class in memcached">RefreshTechniqueClientWithLeaseBeforeTransaction</A>, <A HREF="../../../../simpleRelational/SimpleJdbcDBClient.html" title="class in simpleRelational">SimpleJdbcDBClient</A>, <A HREF="../../../../simpleRelationalStoredProc/SimpleMultiTableStoredProcJdbcDBClient.html" title="class in simpleRelationalStoredProc">SimpleMultiTableStoredProcJdbcDBClient</A>, <A HREF="../../../../simpleRelationalStoredProc/SimpleStoredProcJdbcDBClient.html" title="class in simpleRelationalStoredProc">SimpleStoredProcJdbcDBClient</A>, <A HREF="../../../../memcached/SpyMemcachedBGClient.html" title="class in memcached">SpyMemcachedBGClient</A>, <A HREF="../../../../relational/SqlServerDBClient.html" title="class in relational">SqlServerDBClient</A>, <A HREF="../../../../sqlServerTrig/SqlServerTriggerCacheClient.html" title="class in sqlServerTrig">SqlServerTriggerCacheClient</A>, <A HREF="../../../../SQLTrigQR/SQLTrigQRBoostedClient.html" title="class in SQLTrigQR">SQLTrigQRBoostedClient</A>, <A HREF="../../../../SQLTrigQR/SQLTrigQRClient.html" title="class in SQLTrigQR">SQLTrigQRClient</A>, <A HREF="../../../../sqlTrigSemiData/SqlTrigSemiDataBoostedClient.html" title="class in sqlTrigSemiData">SqlTrigSemiDataBoostedClient</A>, <A HREF="../../../../sqlTrigSemiData/SqlTrigSemiDataClient.html" title="class in sqlTrigSemiData">SqlTrigSemiDataClient</A>, <A HREF="../../../../memcached/TCNWhalinMemcached2R1TBoostedClientQR.html" title="class in memcached">TCNWhalinMemcached2R1TBoostedClientQR</A>, <A HREF="../../../../basicDB/TestClient.html" title="class in basicDB">TestClient</A>, <A HREF="../../../../relational/TestDSClient.html" title="class in relational">TestDSClient</A>, <A HREF="../../../../oracleTriggerCOSAR/TriggerCacheClient.html" title="class in oracleTriggerCOSAR">TriggerCacheClient</A>, <A HREF="../../../../voltdbbg/voltdbclient.html" title="class in voltdbbg">voltdbclient</A>, <A HREF="../../../../client2_Replication/voltdbclient.html" title="class in client2_Replication">voltdbclient</A>, <A HREF="../../../../client2_Partition/voltdbclient.html" title="class in client2_Partition">voltdbclient</A>, <A HREF="../../../../client1_Partition/VoltdbClient.html" title="class in client1_Partition">VoltdbClient</A>, <A HREF="../../../../voltdb/VoltdbClient.html" title="class in voltdb">VoltdbClient</A>, <A HREF="../../../../client1_Replication/VoltdbClient.html" title="class in client1_Replication">VoltdbClient</A>, <A HREF="../../../../voltdb/VoltdbClientV2.html" title="class in voltdb">VoltdbClientV2</A>, <A HREF="../../../../voltdb/VoltdbClientV3.html" title="class in voltdb">VoltdbClientV3</A>, <A HREF="../../../../voltdb/VoltdbClientV4.html" title="class in voltdb">VoltdbClientV4</A>, <A HREF="../../../../memcached/WhalinMemcached1R1TBGClient.html" title="class in memcached">WhalinMemcached1R1TBGClient</A>, <A HREF="../../../../memcached/WhalinMemcached2R1TBoostedClient.html" title="class in memcached">WhalinMemcached2R1TBoostedClient</A>, <A HREF="../../../../memcached/WhalinMemcached2R1TBoostedClientQR.html" title="class in memcached">WhalinMemcached2R1TBoostedClientQR</A>, <A HREF="../../../../memcached/WhalinMemcachedBGClient.html" title="class in memcached">WhalinMemcachedBGClient</A>, <A HREF="../../../../memcached/WhalinMemcachedBoostedClient.html" title="class in memcached">WhalinMemcachedBoostedClient</A>, <A HREF="../../../../memcached/WhalinMemcachedFinalOracleBGClient.html" title="class in memcached">WhalinMemcachedFinalOracleBGClient</A>, <A HREF="../../../../oracleTriggerCOSAR/WhalinTriggerMemcached2R1TBoostedClient.html" title="class in oracleTriggerCOSAR">WhalinTriggerMemcached2R1TBoostedClient</A>, <A HREF="../../../../SQLTrigQR/WhalinTriggerMemcached2R1TBoostedClientQR.html" title="class in SQLTrigQR">WhalinTriggerMemcached2R1TBoostedClientQR</A>, <A HREF="../../../../oracleTriggerCOSAR/WhalinTriggerMemcached2R1TBoostedClientQR.html" title="class in oracleTriggerCOSAR">WhalinTriggerMemcached2R1TBoostedClientQR</A>, <A HREF="../../../../oracleTriggerCOSAR/WhalinTriggerMemcachedBGClient.html" title="class in oracleTriggerCOSAR">WhalinTriggerMemcachedBGClient</A>, <A HREF="../../../../oracleTriggerCOSAR/WhalinTriggerMemcachedBoostedClient.html" title="class in oracleTriggerCOSAR">WhalinTriggerMemcachedBoostedClient</A>, <A HREF="../../../../memcached/XMemcachedBGClient.html" title="class in memcached">XMemcachedBGClient</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public abstract class <B>DB</B><DT>extends java.lang.Object</DL>
</PRE>

<P>
A layer for accessing a database to be benchmarked. Each thread in the client
 will be given its own instance of whatever DB class is to be used in the test.
 This class should be constructed using a no-argument constructor, so we can
 load it dynamically. Any argument-based initialization should be
 done by init().
 
 Note that BG does not make any use of the return codes returned by this class.
 Instead, it keeps a count of the return values and presents them to the user.
 
 The semantics of methods vary from database to database.
<P>

<P>
<HR>

<P>

<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../edu/usc/bg/base/DB.html#DB()">DB</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../edu/usc/bg/base/DB.html#acceptFriend(int, int)">acceptFriend</A></B>(int&nbsp;inviterID,
             int&nbsp;inviteeID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This function is called in the benchmarking phase which is executed with the -t argument.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../edu/usc/bg/base/DB.html#buildIndexes(java.util.Properties)">buildIndexes</A></B>(java.util.Properties&nbsp;props)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This function is called in the load with index creation phase which is executed with the -loadindex argument.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../edu/usc/bg/base/DB.html#cleanup(boolean)">cleanup</A></B>(boolean&nbsp;warmup)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Cleanup any state for this DB.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../edu/usc/bg/base/DB.html#CreateFriendship(int, int)">CreateFriendship</A></B>(int&nbsp;friendid1,
                 int&nbsp;friendid2)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This function is called in the load phase which is executed using the -load or -loadindex argument
 Creates a confirmed friendship between friendid1 and friendid2.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../edu/usc/bg/base/DB.html#createSchema(java.util.Properties)">createSchema</A></B>(java.util.Properties&nbsp;props)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This function is called in the schema creation phase which is executed with the -schema argument.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../edu/usc/bg/base/DB.html#dataAvailable()">dataAvailable</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This function checks to see if the appropriate number of users and resources are available</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../edu/usc/bg/base/DB.html#delCommentOnResource(int, int, int)">delCommentOnResource</A></B>(int&nbsp;resourceCreatorID,
                     int&nbsp;resourceID,
                     int&nbsp;manipulationID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This function is called in the benchmarking phase executed with the -t argument.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../edu/usc/bg/base/DB.html#getCreatedResources(int, java.util.Vector)">getCreatedResources</A></B>(int&nbsp;creatorID,
                    java.util.Vector&lt;java.util.HashMap&lt;java.lang.String,<A HREF="../../../../edu/usc/bg/base/ByteIterator.html" title="class in edu.usc.bg.base">ByteIterator</A>&gt;&gt;&nbsp;result)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This function is called in the benchmarking phase which is executed with the -t argument.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;java.util.HashMap&lt;java.lang.String,java.lang.String&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../edu/usc/bg/base/DB.html#getInitialStats()">getInitialStats</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This function is called in the load phase which is executed using the -load or -loadindex argument
 
 returns DB's initial statistics.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Properties</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../edu/usc/bg/base/DB.html#getProperties()">getProperties</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the set of properties for this DB.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../edu/usc/bg/base/DB.html#init()">init</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialize any state for this DB.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../edu/usc/bg/base/DB.html#insertEntity(java.lang.String, java.lang.String, java.util.HashMap, boolean)">insertEntity</A></B>(java.lang.String&nbsp;entitySet,
             java.lang.String&nbsp;entityPK,
             java.util.HashMap&lt;java.lang.String,<A HREF="../../../../edu/usc/bg/base/ByteIterator.html" title="class in edu.usc.bg.base">ByteIterator</A>&gt;&nbsp;values,
             boolean&nbsp;insertImage)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This function is called in the load phase which is executed using the -load or -loadindex argument.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../edu/usc/bg/base/DB.html#inviteFriend(int, int)">inviteFriend</A></B>(int&nbsp;inviterID,
             int&nbsp;inviteeID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This function is called both in the benchmarking phase executed with the -t argument and the load phase executed either
 using -load or the -loadindex argument.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../edu/usc/bg/base/DB.html#listFriends(int, int, java.util.Set, java.util.Vector, boolean, boolean)">listFriends</A></B>(int&nbsp;requesterID,
            int&nbsp;profileOwnerID,
            java.util.Set&lt;java.lang.String&gt;&nbsp;fields,
            java.util.Vector&lt;java.util.HashMap&lt;java.lang.String,<A HREF="../../../../edu/usc/bg/base/ByteIterator.html" title="class in edu.usc.bg.base">ByteIterator</A>&gt;&gt;&nbsp;result,
            boolean&nbsp;insertImage,
            boolean&nbsp;testMode)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This function is called in the benchmarking phase which is executed with the -t argument.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../edu/usc/bg/base/DB.html#postCommentOnResource(int, int, int, java.util.HashMap)">postCommentOnResource</A></B>(int&nbsp;commentCreatorID,
                      int&nbsp;resourceCreatorID,
                      int&nbsp;resourceID,
                      java.util.HashMap&lt;java.lang.String,<A HREF="../../../../edu/usc/bg/base/ByteIterator.html" title="class in edu.usc.bg.base">ByteIterator</A>&gt;&nbsp;values)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This function is called in the benchmarking phase executed with the -t argument.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../edu/usc/bg/base/DB.html#queryConfirmedFriendshipIds(int, java.util.Vector)">queryConfirmedFriendshipIds</A></B>(int&nbsp;memberID,
                            java.util.Vector&lt;java.lang.Integer&gt;&nbsp;confirmedIds)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This function is called in the benchmarking phase which is executed with the -t argument.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../edu/usc/bg/base/DB.html#queryPendingFriendshipIds(int, java.util.Vector)">queryPendingFriendshipIds</A></B>(int&nbsp;memberID,
                          java.util.Vector&lt;java.lang.Integer&gt;&nbsp;pendingIds)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This function is called in the benchmarking phase which is executed with the -t argument.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../edu/usc/bg/base/DB.html#reconstructSchema()">reconstructSchema</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This function is called in the -dropfriends phase and drops all the friendships</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../edu/usc/bg/base/DB.html#rejectFriend(int, int)">rejectFriend</A></B>(int&nbsp;inviterID,
             int&nbsp;inviteeID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This function is called in the benchmarking phase which is executed with the -t argument.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../edu/usc/bg/base/DB.html#schemaCreated()">schemaCreated</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This function is called in the -dropfriends phase and checks to see if the schema was created
 for all tables</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../edu/usc/bg/base/DB.html#setProperties(java.util.Properties)">setProperties</A></B>(java.util.Properties&nbsp;p)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set the properties for this DB.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../edu/usc/bg/base/DB.html#thawFriendship(int, int)">thawFriendship</A></B>(int&nbsp;friendid1,
               int&nbsp;friendid2)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This function is called in the benchmarking phase which is executed with the -t argument.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../edu/usc/bg/base/DB.html#viewCommentOnResource(int, int, int, java.util.Vector)">viewCommentOnResource</A></B>(int&nbsp;requesterID,
                      int&nbsp;profileOwnerID,
                      int&nbsp;resourceID,
                      java.util.Vector&lt;java.util.HashMap&lt;java.lang.String,<A HREF="../../../../edu/usc/bg/base/ByteIterator.html" title="class in edu.usc.bg.base">ByteIterator</A>&gt;&gt;&nbsp;result)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This function is called in the benchmarking phase which is executed with the -t argument.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../edu/usc/bg/base/DB.html#viewFriendReq(int, java.util.Vector, boolean, boolean)">viewFriendReq</A></B>(int&nbsp;profileOwnerID,
              java.util.Vector&lt;java.util.HashMap&lt;java.lang.String,<A HREF="../../../../edu/usc/bg/base/ByteIterator.html" title="class in edu.usc.bg.base">ByteIterator</A>&gt;&gt;&nbsp;results,
              boolean&nbsp;insertImage,
              boolean&nbsp;testMode)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This function is called in the benchmarking phase which is executed with the -t argument.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../edu/usc/bg/base/DB.html#viewProfile(int, int, java.util.HashMap, boolean, boolean)">viewProfile</A></B>(int&nbsp;requesterID,
            int&nbsp;profileOwnerID,
            java.util.HashMap&lt;java.lang.String,<A HREF="../../../../edu/usc/bg/base/ByteIterator.html" title="class in edu.usc.bg.base">ByteIterator</A>&gt;&nbsp;result,
            boolean&nbsp;insertImage,
            boolean&nbsp;testMode)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This function is called in the benchmarking phase which is executed with the -t argument.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../edu/usc/bg/base/DB.html#viewTopKResources(int, int, int, java.util.Vector)">viewTopKResources</A></B>(int&nbsp;requesterID,
                  int&nbsp;profileOwnerID,
                  int&nbsp;k,
                  java.util.Vector&lt;java.util.HashMap&lt;java.lang.String,<A HREF="../../../../edu/usc/bg/base/ByteIterator.html" title="class in edu.usc.bg.base">ByteIterator</A>&gt;&gt;&nbsp;result)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This function is called in the benchmarking phase which is executed with the -t argument.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="DB()"><!-- --></A><H3>
DB</H3>
<PRE>
public <B>DB</B>()</PRE>
<DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="setProperties(java.util.Properties)"><!-- --></A><H3>
setProperties</H3>
<PRE>
public void <B>setProperties</B>(java.util.Properties&nbsp;p)</PRE>
<DL>
<DD>Set the properties for this DB.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getProperties()"><!-- --></A><H3>
getProperties</H3>
<PRE>
public java.util.Properties <B>getProperties</B>()</PRE>
<DL>
<DD>Get the set of properties for this DB.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="init()"><!-- --></A><H3>
init</H3>
<PRE>
public boolean <B>init</B>()
             throws <A HREF="../../../../edu/usc/bg/base/DBException.html" title="class in edu.usc.bg.base">DBException</A></PRE>
<DL>
<DD>Initialize any state for this DB.
 Called once per DB instance; there is one DB instance per client thread.
 This method should be called once by any thread to start communication with the database.
 The code written for this function should initiate the thread's communication with the database.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>true if the connection to the data store was successful.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../edu/usc/bg/base/DBException.html" title="class in edu.usc.bg.base">DBException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="cleanup(boolean)"><!-- --></A><H3>
cleanup</H3>
<PRE>
public void <B>cleanup</B>(boolean&nbsp;warmup)
             throws <A HREF="../../../../edu/usc/bg/base/DBException.html" title="class in edu.usc.bg.base">DBException</A></PRE>
<DL>
<DD>Cleanup any state for this DB.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>warmup</CODE> - This flag identifies if the thread calling it is in the warm up phase.
 In the warm up phase the threads do not issue updates, this phase can be used for warming up caches.
 If the warm up is set to true, the cache would not be restarted at the end of the warmup phase
 and only the warm up thread's connections to the database will be recycled.
 Called once per DB instance; there is one DB instance per client thread.
 This method should be called once the thread needs to end its communication with the data store.
 The code written for this function should close up the connection of the thread with the database
 and clean up the database instance.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../edu/usc/bg/base/DBException.html" title="class in edu.usc.bg.base">DBException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="insertEntity(java.lang.String, java.lang.String, java.util.HashMap, boolean)"><!-- --></A><H3>
insertEntity</H3>
<PRE>
public abstract int <B>insertEntity</B>(java.lang.String&nbsp;entitySet,
                                 java.lang.String&nbsp;entityPK,
                                 java.util.HashMap&lt;java.lang.String,<A HREF="../../../../edu/usc/bg/base/ByteIterator.html" title="class in edu.usc.bg.base">ByteIterator</A>&gt;&nbsp;values,
                                 boolean&nbsp;insertImage)</PRE>
<DL>
<DD>This function is called in the load phase which is executed using the -load or -loadindex argument.
 It is used for inserting users and resources.
 Any field/value pairs in the values HashMap for an entity will be written 
 into the specified entity set with the specified entity key.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>entitySet</CODE> - The name of the entity set with the following two possible values:  users and resources.
 BG passes these values in lower case.  The implementation may manipulate the case to tailor it for the purposes of a data store.<DD><CODE>entityPK</CODE> - The primary key of the entity to insert.<DD><CODE>values</CODE> - A HashMap of field/value pairs to insert for the entity, these pairs are the other attributes for an entity and their values.
 The profile image is identified with the "pic" key attribute and the thumbnail image is identified with the "tpic" key attribute.<DD><CODE>insertImage</CODE> - Identifies if images should be inserted for users.
 if set to true the code should populate each entity with an image; the size of the image is specified
 using the imagesize parameter.
<DT><B>Returns:</B><DD>Zero on success, a non-zero error code on error.  See this class's description for a discussion of error codes.
 The code written for this function call should insert the entity and its attributes.
 The code is responsible for inserting the PK and the other attributes in the appropriate order.</DL>
</DD>
</DL>
<HR>

<A NAME="viewProfile(int, int, java.util.HashMap, boolean, boolean)"><!-- --></A><H3>
viewProfile</H3>
<PRE>
public abstract int <B>viewProfile</B>(int&nbsp;requesterID,
                                int&nbsp;profileOwnerID,
                                java.util.HashMap&lt;java.lang.String,<A HREF="../../../../edu/usc/bg/base/ByteIterator.html" title="class in edu.usc.bg.base">ByteIterator</A>&gt;&nbsp;result,
                                boolean&nbsp;insertImage,
                                boolean&nbsp;testMode)</PRE>
<DL>
<DD>This function is called in the benchmarking phase which is executed with the -t argument.
 Get the profile object for a user.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>requesterID</CODE> - Unique identifier for the requester.<DD><CODE>profileOwnerID</CODE> - unique profile owner's identifier.<DD><CODE>result</CODE> - A HashMap with all data  returned. These data are different user information within the profile
 such as friend count, friend request count, etc.<DD><CODE>insertImage</CODE> - Identifies if the users have images in the database. If set to true the images for the users will be
 retrieved.<DD><CODE>testMode</CODE> - If set to true images will be retrieved and stored on the file system.
 While running benchmarks this field should be set to false.
<DT><B>Returns:</B><DD>0 on success a non-zero error code on error.  See this class's description for a discussion of error codes. 
 
 The code written for this function retrieves the user's profile details, friendcount (number of friends for that user)
  and resourcecount (number of resources inserted on that user's wall).
 In addition if the requesterID is equal to the profileOwnerID, the pendingcount (number of pending friend requests)
  needs to be returned as well.
 
 If the insertImage is set to true, the image for the profileOwnerID will be rertrieved.
 The insertImage should be set to true only if the user entity has an image in the database.
 
 The friendcount, resourcecount, pendingcount should be put into the results HashMap
 with the following keys: "friendcount", "resourcecount" and "pendingcount", respectively. 
 Lack of these attributes or not returning the attribute keys
 in lower case causes BG to raise exceptions.
 In addition, all other attributes of the profile need to be added to the result hashmap with the 
 attribute names being the keys and the attribute values being the values in the hashmap.
 
 If images exist for users, they should be converted to bytearrays and added to the result hashmap.</DL>
</DD>
</DL>
<HR>

<A NAME="listFriends(int, int, java.util.Set, java.util.Vector, boolean, boolean)"><!-- --></A><H3>
listFriends</H3>
<PRE>
public abstract int <B>listFriends</B>(int&nbsp;requesterID,
                                int&nbsp;profileOwnerID,
                                java.util.Set&lt;java.lang.String&gt;&nbsp;fields,
                                java.util.Vector&lt;java.util.HashMap&lt;java.lang.String,<A HREF="../../../../edu/usc/bg/base/ByteIterator.html" title="class in edu.usc.bg.base">ByteIterator</A>&gt;&gt;&nbsp;result,
                                boolean&nbsp;insertImage,
                                boolean&nbsp;testMode)</PRE>
<DL>
<DD>This function is called in the benchmarking phase which is executed with the -t argument.
 
 gets the list of friends for a member.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>requesterID</CODE> - The unique identifier of the user who wants to view profile owners friends.<DD><CODE>profileOwnerID</CODE> - The id of the profile for which the friends are listed.<DD><CODE>fields</CODE> - Contains the attribute names required for each friend. 
 This can be set to null to retrieve all the friend information.<DD><CODE>result</CODE> - A Vector of HashMaps, where each HashMap is a set field/value pairs for one friend.<DD><CODE>insertImage</CODE> - If set to true the thumbnail images for the friends will be retrieved from the data store.<DD><CODE>testMode</CODE> - If set to true the thumbnail images of friends will be written to the file system.
<DT><B>Returns:</B><DD>Zero on success, a non-zero error code on error.  See this class's description for a discussion of error codes.
 
 The code written for this function should retrieve the list of friends for the profileOwnerID.
 The information retrieved per friend depends on the fields specified in the fields set. if fields is set to null
 all profile information for the friends is retrieved and the result hashmap is populated.
 The friend's unique id should be inserted with the "userid" key into the result hashmap. The lack of this attribute or the lack of 
 the attribute key in lower case causes BG to raise exceptions.
 In addition if the insertImage flag is set to true, the thumbnails for each friend's profile
 should be retrieved and inserted into the result hashmap using the "pic" key.</DL>
</DD>
</DL>
<HR>

<A NAME="viewFriendReq(int, java.util.Vector, boolean, boolean)"><!-- --></A><H3>
viewFriendReq</H3>
<PRE>
public abstract int <B>viewFriendReq</B>(int&nbsp;profileOwnerID,
                                  java.util.Vector&lt;java.util.HashMap&lt;java.lang.String,<A HREF="../../../../edu/usc/bg/base/ByteIterator.html" title="class in edu.usc.bg.base">ByteIterator</A>&gt;&gt;&nbsp;results,
                                  boolean&nbsp;insertImage,
                                  boolean&nbsp;testMode)</PRE>
<DL>
<DD>This function is called in the benchmarking phase which is executed with the -t argument.
 
 gets the list of pending friend requests for a member.
 These are the requests that are generated for the profileOwnerID
 but have not been accepted or rejected.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>profileOwnerID</CODE> - The profile owner's unique identifier.<DD><CODE>results</CODE> - A vector of hashmaps where every hashmap belongs to one inviter.<DD><CODE>insertImage</CODE> - If set to true the images for the friends will be retrieved from the data store.<DD><CODE>testMode</CODE> - If set to true the thumbnail images of friends will be written to the file system.
<DT><B>Returns:</B><DD>Zero on success, a non-zero error code on error.  See this class's description for a discussion of error codes.
 
 The code written for this function should retrieve the list of pending invitations for the profileOwnerID's profile,
 all profile information for the pending friends is retrieved and the result hashmap is populated.
 The unique id of the friend generating the request should be added using the "userid" key to the hasmap. 
 The lack of this attribute or the lack of 
 the attribute key in lower case causes BG to raise exceptions.
 In addition if the insertImage flag is set to true, the thumbnails for each pending friend profile
 should be retrieved and inserted into the result hashmap.</DL>
</DD>
</DL>
<HR>

<A NAME="acceptFriend(int, int)"><!-- --></A><H3>
acceptFriend</H3>
<PRE>
public abstract int <B>acceptFriend</B>(int&nbsp;inviterID,
                                 int&nbsp;inviteeID)</PRE>
<DL>
<DD>This function is called in the benchmarking phase which is executed with the -t argument.
 
 Accepts a pending friend request.
 This action can only be done by the invitee.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>inviterID</CODE> - The unique identifier of the inviter (the user who generates the friend request).<DD><CODE>inviteeID</CODE> - The unique identifier of the invitee (the person who receives the friend request).
<DT><B>Returns:</B><DD>Zero on success, a non-zero error code on error.  See this class's description for a discussion of error codes.
 
 The code written for this function should accept the friendship request 
 and generate a friendship relationship between inviteeID and inviterID.
 The friendship relationship is symmetric, so if A is friends with B, B also should
 be friends with A.</DL>
</DD>
</DL>
<HR>

<A NAME="rejectFriend(int, int)"><!-- --></A><H3>
rejectFriend</H3>
<PRE>
public abstract int <B>rejectFriend</B>(int&nbsp;inviterID,
                                 int&nbsp;inviteeID)</PRE>
<DL>
<DD>This function is called in the benchmarking phase which is executed with the -t argument.
 
 Rejects a pending friend request.
 This action can only be done by the invitee.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>inviterID</CODE> - The unique identifier of the inviter (The person who generates the friend request).<DD><CODE>inviteeID</CODE> - The unique identifier of the invitee (The person who receives the friend request).
<DT><B>Returns:</B><DD>Zero on success, a non-zero error code on error.  See this class's description for a discussion of error codes.
 
 The code written for this function should remove the friend request generated by 
 the inviterID without creating any friendship relationship between the inviterID and the inviteeID.</DL>
</DD>
</DL>
<HR>

<A NAME="inviteFriend(int, int)"><!-- --></A><H3>
inviteFriend</H3>
<PRE>
public abstract int <B>inviteFriend</B>(int&nbsp;inviterID,
                                 int&nbsp;inviteeID)</PRE>
<DL>
<DD>This function is called both in the benchmarking phase executed with the -t argument and the load phase executed either
 using -load or the -loadindex argument.
 
 Generates a friend request which can be considered as generating a pending friendship.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>inviterID</CODE> - The unique identifier of the inviter (the person who generates the friend request).<DD><CODE>inviteeID</CODE> - The unique identifier of the invitee (the person who receives the friend request).
<DT><B>Returns:</B><DD>Zero on success, a non-zero error code on error.  See this class's description for a discussion of error codes.
 
 The code written for this function should generate a friend request invitation which is 
 extended by the inviterID to the inviteeID.</DL>
</DD>
</DL>
<HR>

<A NAME="viewTopKResources(int, int, int, java.util.Vector)"><!-- --></A><H3>
viewTopKResources</H3>
<PRE>
public abstract int <B>viewTopKResources</B>(int&nbsp;requesterID,
                                      int&nbsp;profileOwnerID,
                                      int&nbsp;k,
                                      java.util.Vector&lt;java.util.HashMap&lt;java.lang.String,<A HREF="../../../../edu/usc/bg/base/ByteIterator.html" title="class in edu.usc.bg.base">ByteIterator</A>&gt;&gt;&nbsp;result)</PRE>
<DL>
<DD>This function is called in the benchmarking phase which is executed with the -t argument.
 
 gets the top k resources posted on a member's wall.
 These can be created by the user on her own wall or by other users on this user's wall.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>requesterID</CODE> - The unique identifier of the user who wants to view profile owners resources.<DD><CODE>profileOwnerID</CODE> - The profile owner's unique identifier.<DD><CODE>k</CODE> - The number of resources requested.<DD><CODE>result</CODE> - A vector of all the resource entities, every resource entity is a hashmap containing resource attributes.
 This hashmap should have the resource id identified by "rid" and the wall user id identified by "walluserid". The lack of these attributes
 or not having these keys in lower case may cause BG to raise exceptions.
<DT><B>Returns:</B><DD>Zero on success, a non-zero error code on error.  See this class's description for a discussion of error codes.</DL>
</DD>
</DL>
<HR>

<A NAME="getCreatedResources(int, java.util.Vector)"><!-- --></A><H3>
getCreatedResources</H3>
<PRE>
public abstract int <B>getCreatedResources</B>(int&nbsp;creatorID,
                                        java.util.Vector&lt;java.util.HashMap&lt;java.lang.String,<A HREF="../../../../edu/usc/bg/base/ByteIterator.html" title="class in edu.usc.bg.base">ByteIterator</A>&gt;&gt;&nbsp;result)</PRE>
<DL>
<DD>This function is called in the benchmarking phase which is executed with the -t argument.
 
 gets the  resources  created by a user, the created resources may be posted either on 
 the user's wall or on another user's wall.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>creatorID</CODE> - The unique identifier of the user who created the resources.<DD><CODE>result</CODE> - A vector of all the resource entities, every entity is a hashmap containing the attributes of a resource and their values
 without considering the comments on the resource.
 Every resource should have a unique identifier which will be copied into the hashmap using the "rid" key and a unique creator which will be copied into the "creatorid" key. Lack of this key in lower case
 may cause BG to raise exceptions.
<DT><B>Returns:</B><DD>Zero on success, a non-zero error code on error.  See this class's description for a discussion of error codes.</DL>
</DD>
</DL>
<HR>

<A NAME="viewCommentOnResource(int, int, int, java.util.Vector)"><!-- --></A><H3>
viewCommentOnResource</H3>
<PRE>
public abstract int <B>viewCommentOnResource</B>(int&nbsp;requesterID,
                                          int&nbsp;profileOwnerID,
                                          int&nbsp;resourceID,
                                          java.util.Vector&lt;java.util.HashMap&lt;java.lang.String,<A HREF="../../../../edu/usc/bg/base/ByteIterator.html" title="class in edu.usc.bg.base">ByteIterator</A>&gt;&gt;&nbsp;result)</PRE>
<DL>
<DD>This function is called in the benchmarking phase which is executed with the -t argument.
 
 gets the comments for a resource and all the comment's details.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>requesterID</CODE> - The unique identifier of the user who wants to view the comments posted on the profileOwnerID's resource.<DD><CODE>profileOwnerID</CODE> - The profile owner's unique identifier (owner of the resource).<DD><CODE>resourceID</CODE> - The resource's unique identifier.<DD><CODE>result</CODE> - A vector of all the comment entities for a specific resource, each comment and its details are
 specified as a hashmap.
<DT><B>Returns:</B><DD>Zero on success, a non-zero error code on error.  See this class's description for a discussion of error codes.
 
 The code written for this function, gets the resourceid of a resource and returns all the comments posted on that resource
 and their details. This information should be put into the results Vector.</DL>
</DD>
</DL>
<HR>

<A NAME="postCommentOnResource(int, int, int, java.util.HashMap)"><!-- --></A><H3>
postCommentOnResource</H3>
<PRE>
public abstract int <B>postCommentOnResource</B>(int&nbsp;commentCreatorID,
                                          int&nbsp;resourceCreatorID,
                                          int&nbsp;resourceID,
                                          java.util.HashMap&lt;java.lang.String,<A HREF="../../../../edu/usc/bg/base/ByteIterator.html" title="class in edu.usc.bg.base">ByteIterator</A>&gt;&nbsp;values)</PRE>
<DL>
<DD>This function is called in the benchmarking phase executed with the -t argument.
 
 posts/creates a comment on a specific resource.
 Every comment created is inserted into the manipulation entity set.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>commentCreatorID</CODE> - The unique identifier of the user who is creating the comment.<DD><CODE>resourceCreatorID</CODE> - The resource creator's unique identifier (owner of the resource).<DD><CODE>resourceID</CODE> - The resource's unique identifier.<DD><CODE>values</CODE> - The values for the comment which contains the unique identifier of the comment identified by "mid".
<DT><B>Returns:</B><DD>Zero on success, a non-zero error code on error.  See this class's description for a discussion of error codes.
 The code written in this function, creates a comment on the resource identified with
 resourceID and created by profileOwnerID.</DL>
</DD>
</DL>
<HR>

<A NAME="delCommentOnResource(int, int, int)"><!-- --></A><H3>
delCommentOnResource</H3>
<PRE>
public abstract int <B>delCommentOnResource</B>(int&nbsp;resourceCreatorID,
                                         int&nbsp;resourceID,
                                         int&nbsp;manipulationID)</PRE>
<DL>
<DD>This function is called in the benchmarking phase executed with the -t argument.
 deletes a specific comment on a specific resource.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>resourceCreatorID</CODE> - The resource creator's unique identifier (owner of the resource).<DD><CODE>resourceID</CODE> - The resource's unique identifier.<DD><CODE>manipulationID</CODE> - The unique identifier of the comment to be deleted.
<DT><B>Returns:</B><DD>Zero on success, a non-zero error code on error.  See this class's description for a discussion of error codes.
 The code written in this function, deletes a comment identified by manipulationID on the resource identified with
 resourceID and created by the resourceCreatorID.</DL>
</DD>
</DL>
<HR>

<A NAME="thawFriendship(int, int)"><!-- --></A><H3>
thawFriendship</H3>
<PRE>
public abstract int <B>thawFriendship</B>(int&nbsp;friendid1,
                                   int&nbsp;friendid2)</PRE>
<DL>
<DD>This function is called in the benchmarking phase which is executed with the -t argument.
 
 Thaws a friendship.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>friendid1</CODE> - The unique identifier of the person who wants to remove a friend.<DD><CODE>friendid2</CODE> - The unique identifier of the friend to be removed.
<DT><B>Returns:</B><DD>Zero on success, a non-zero error code on error.  See this class's description for a discussion of error codes.
 
 The code written in this function terminates the friendship relationship between friendid1 and friendid2.
 The friendship relationship should be removed for both friendid1 and friendid2.
 The friendship/thaw friendship relationship is symmetric so if A is not friends with B, B also will not be friends with A.</DL>
</DD>
</DL>
<HR>

<A NAME="getInitialStats()"><!-- --></A><H3>
getInitialStats</H3>
<PRE>
public abstract java.util.HashMap&lt;java.lang.String,java.lang.String&gt; <B>getInitialStats</B>()</PRE>
<DL>
<DD>This function is called in the load phase which is executed using the -load or -loadindex argument
 
 returns DB's initial statistics.
 These statistics include number of users, average number of friends per user,
 average number of pending friend requests per user, and number of resources per user.
 The initial statistics are queried and inserted into a hashmap.
 This hashmap should contain the following attributes:
 "usercount", "resourcesperuser", "avgfriendsperuser", "avgpendingperuser" 
 The lack of these attributes or the lack of the keys in lower case causes BG to raise exceptions.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>Zero on success, a non-zero error code on error.  See this class's description for a discussion of error codes.</DL>
</DD>
</DL>
<HR>

<A NAME="CreateFriendship(int, int)"><!-- --></A><H3>
CreateFriendship</H3>
<PRE>
public abstract int <B>CreateFriendship</B>(int&nbsp;friendid1,
                                     int&nbsp;friendid2)</PRE>
<DL>
<DD>This function is called in the load phase which is executed using the -load or -loadindex argument
 Creates a confirmed friendship between friendid1 and friendid2.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>friendid1</CODE> - The unique identifier of the first member.<DD><CODE>friendid2</CODE> - The unique identifier of the second member.
<DT><B>Returns:</B><DD>Zero on success, a non-zero error code on error.  See this class's description for a discussion of error codes.
 
 The code written in this function generates a friendship relationship between friendid1 and friendid2
 The friendship relationship is symmetric, so if A is friends with B, B is also friends with A.</DL>
</DD>
</DL>
<HR>

<A NAME="createSchema(java.util.Properties)"><!-- --></A><H3>
createSchema</H3>
<PRE>
public abstract void <B>createSchema</B>(java.util.Properties&nbsp;props)</PRE>
<DL>
<DD>This function is called in the schema creation phase which is executed with the -schema argument.
 Creates the data store schema which will then be populated in the load phase.
 Depending on the type of datastore, the code for creating index structures may also be provided 
 within this function call.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>props</CODE> - The properties of BG.
 
 BG dictates a fixed conceptual schema. This schema consists of three entity sets:
 users, resources, manipulations
 The attributes for each entity set are as follows;
 1) users (userid, username, pw, fname, lname, gender,
                dob, jdate, ldate, address, email, tel, tpic, pic)
                tpic and pic are available if there are images inserted for users.
 2) resources (rid, creatorid,  walluserid, type, body, doc)
 3) manipulations (mid, creatorid, rid, modifierid, timestamp, type, content)</DL>
</DD>
</DL>
<HR>

<A NAME="queryPendingFriendshipIds(int, java.util.Vector)"><!-- --></A><H3>
queryPendingFriendshipIds</H3>
<PRE>
public abstract int <B>queryPendingFriendshipIds</B>(int&nbsp;memberID,
                                              java.util.Vector&lt;java.lang.Integer&gt;&nbsp;pendingIds)</PRE>
<DL>
<DD>This function is called in the benchmarking phase which is executed with the -t argument.
 
 Queries the inviterid's of pending friendship requests for a member specified by memberID.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>memberID</CODE> - The unique identifier of the user.<DD><CODE>pendingIds</CODE> - Is a vector of all the member ids that have created a friendship invitation for memberID.
<DT><B>Returns:</B><DD>Zero on success, a non-zero error code on error.  See this class's description for a discussion of error codes.</DL>
</DD>
</DL>
<HR>

<A NAME="queryConfirmedFriendshipIds(int, java.util.Vector)"><!-- --></A><H3>
queryConfirmedFriendshipIds</H3>
<PRE>
public abstract int <B>queryConfirmedFriendshipIds</B>(int&nbsp;memberID,
                                                java.util.Vector&lt;java.lang.Integer&gt;&nbsp;confirmedIds)</PRE>
<DL>
<DD>This function is called in the benchmarking phase which is executed with the -t argument.
 
 Queries the friendids of confirmed friendships for a member specified by memberID.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>memberID</CODE> - The unique identifier of the user.<DD><CODE>confirmedIds</CODE> - Is a vector of all the member ids that have a friendship relationship with memberID.
<DT><B>Returns:</B><DD>Zero on success, a non-zero error code on error.  See this class's description for a discussion of error codes.</DL>
</DD>
</DL>
<HR>

<A NAME="buildIndexes(java.util.Properties)"><!-- --></A><H3>
buildIndexes</H3>
<PRE>
public void <B>buildIndexes</B>(java.util.Properties&nbsp;props)</PRE>
<DL>
<DD>This function is called in the load with index creation phase which is executed with the -loadindex argument.
 
 May be used with data stores that support creation of indexes after the load phase is completed.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>props</CODE> - The properties of BG.</DL>
</DD>
</DL>
<HR>

<A NAME="schemaCreated()"><!-- --></A><H3>
schemaCreated</H3>
<PRE>
public boolean <B>schemaCreated</B>()</PRE>
<DL>
<DD>This function is called in the -dropfriends phase and checks to see if the schema was created
 for all tables
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="reconstructSchema()"><!-- --></A><H3>
reconstructSchema</H3>
<PRE>
public void <B>reconstructSchema</B>()</PRE>
<DL>
<DD>This function is called in the -dropfriends phase and drops all the friendships
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="dataAvailable()"><!-- --></A><H3>
dataAvailable</H3>
<PRE>
public boolean <B>dataAvailable</B>()</PRE>
<DL>
<DD>This function checks to see if the appropriate number of users and resources are available
<P>
<DD><DL>
</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/DB.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../edu/usc/bg/base/ClientThread.html" title="class in edu.usc.bg.base"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../edu/usc/bg/base/DBException.html" title="class in edu.usc.bg.base"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?edu/usc/bg/base/DB.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="DB.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
